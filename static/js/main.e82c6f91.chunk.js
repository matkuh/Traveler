(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(e,t,a){e.exports=a.p+"static/media/bg9.a12e6bc9.jpg"},197:function(e,t,a){e.exports=a.p+"static/media/bg10.9b5fdfdd.jpg"},199:function(e,t){},202:function(e,t,a){e.exports=a.p+"static/media/bg4.5c4cfaa3.jpg"},209:function(e,t,a){e.exports=a(470)},214:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},276:function(e,t){},278:function(e,t){},310:function(e,t){},311:function(e,t){},376:function(e,t){},467:function(e,t,a){},468:function(e,t){},469:function(e,t,a){},470:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(66),s=a.n(r),c=(a(214),a(5)),o=a.n(c),i=a(19),u=a(6),m=a(7),d=a(9),p=a(8),h=a(10),f=a(26),g=a(43),E=a(36);var v=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"navbar-fixed"},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper blue",style:{paddingLeft:10,opacity:.9}},l.a.createElement(f.b,{className:"brand-logo",to:"/"},"Traveler"),l.a.createElement("ul",{className:"right hide-on-med-and-down"},l.a.createElement("li",null,l.a.createElement(f.b,{to:"/profile"},"Profile")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/"},"Feed")),l.a.createElement("li",null,l.a.createElement(f.b,{to:"/discover"},"Discover")),l.a.createElement("li",null,l.a.createElement("a",{onClick:e.logout},"Logout")))))))};function b(e){return l.a.createElement("div",Object.assign({className:"container".concat(e.fluid?"-fluid":"")},e),e.children)}function N(e){return l.a.createElement("div",Object.assign({className:"row".concat(e.fluid?"-fluid":"")},e),e.children)}function w(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map(function(e){return"col "+e}).join(" ")},a)}a(220);function y(e){return l.a.createElement("div",null,l.a.createElement("button",Object.assign({className:"btn waves-effect waves-light blue",type:"submit",name:"action"},e),e.children))}var C=function(e){return l.a.createElement("div",null,l.a.createElement(b,null,l.a.createElement(w,{size:"s3"},l.a.createElement("div",Object.assign({className:"chip disable"},e),e.tag,l.a.createElement("i",{className:"close material-icons"},"close")," "))))};var O=function(e){return l.a.createElement(w,{size:"s6"},l.a.createElement("div",{className:"card",id:"posts"},l.a.createElement("div",{className:"card-action"},l.a.createElement(N,null,l.a.createElement(w,{size:"s11"},l.a.createElement("img",{src:e.image,width:"80px",height:"80px",alt:"",position:"absolute","verticle-align":"center"})),l.a.createElement(w,{size:"s1"},l.a.createElement("span",null,l.a.createElement("a",{href:"#",align:"center","verticle-align":"center"}),l.a.createElement(y,{className:"btn-small right blue",onClick:function(){return e.followUser(e.user_id)}},"Follow"))))),l.a.createElement("div",{className:"card-image"},l.a.createElement("img",{src:e.image,width:"300",height:"350",className:"activator"}),l.a.createElement("span",{className:"card-title activator black-text"},e.title)),l.a.createElement("div",{className:"card-content"},l.a.createElement("p",{className:"activator"},e.location),l.a.createElement("p",{className:"chip disable"},e.tag)),l.a.createElement("div",{className:"card-reveal"},l.a.createElement("span",{className:"card-title grey-text text-darken-4"},l.a.createElement("i",{className:"material-icons right"},"close")),l.a.createElement("p",{className:"card-title"},e.info))))};var k=function(e){return l.a.createElement("div",Object.assign({className:"card-panel center"},e),e.children)};var x=function(e){return l.a.createElement("div",null,l.a.createElement(b,null,l.a.createElement(N,null,l.a.createElement(w,{size:"s4"}," "),l.a.createElement("div",{className:"row center"},l.a.createElement("div",{className:"input-field col s4"},l.a.createElement("h3",{className:"grey-text text-darken-3"},e.children))),l.a.createElement(w,{size:"s4"}," "))))},j=a(196),S=a.n(j);function P(e){return l.a.createElement("form",null,l.a.createElement("div",{className:"input-field"},l.a.createElement("textarea",Object.assign({id:"textarea1",className:"materialize-textarea"},e)),l.a.createElement("label",{htmlFor:"textarea1"},e.children)))}var I=a(31),_=a.n(I),z=(n.Component,a(221),a(24)),T=a.n(z),F=(n.Component,a(238),{followUser:function(e){return T.a.post("/api/follow",e)},editUser:function(e){return T.a.put("/api/user",e)},getProfile:function(e){return T.a.get("/api/user/"+e)},getPhoto:function(e){return T.a.get("/api/user/"+e)},getPosts:function(){return T.a.get("/api/post")},getFollowPosts:function(e){return T.a.get("api/follow/"+e)},getPostSearch:function(e){return T.a.get("/api/discover/"+e)},getUserPosts:function(e){return T.a.get("/api/post/"+e)},newPost:function(e){return T.a.post("/api/post",e)},getUser:function(){return T.a.get("/auth/user")},logout:function(){return T.a.get("/auth/logout")}}),D=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={info:"",title:"",location:"",url:"",file:"",fileName:"",tag:"",user_id:"",lat:"",lng:"",image:"",place:{}},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.handlePicture=function(){var e=Object(i.a)(o.a.mark(function e(t){var n,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0].name,console.log(n),a.setState({file:t.target.files[0],url:"https://travelerdb.s3-us-west-1.amazonaws.com/".concat(n),fileName:n}),(l=new FormData).append("imageData",t.target.files[0]),l.append("imageName",n),T.a.post("/api/feed",l).then(function(e){console.log(e)});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.addPost=function(){var e=Object(i.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("Add post begins"),console.log(a.state.url),n={info:a.state.info,tag:a.state.tag,user_id:a.props.user_id,title:a.state.title,location:a.state.location,url:a.state.url,lat:a.state.lat,lng:a.state.lng},console.log("POST DATA:",n),F.newPost(n).then(function(e){console.log(e),window.location.reload()});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){_.a.AutoInit()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(N,null,l.a.createElement(b,null,l.a.createElement(b,null,l.a.createElement(N,{className:"center"},l.a.createElement("a",{className:" waves-light btn-large modal-trigger blue",href:"#modal1"},"Create Post"))))),l.a.createElement("div",{id:"modal1",className:"modal"},l.a.createElement(N,{className:"center"},l.a.createElement("h3",{style:{marginTop:"2rem"}},"Create a Post")),l.a.createElement(b,null,l.a.createElement(k,null,l.a.createElement(b,null,l.a.createElement("form",null,l.a.createElement(N,null,l.a.createElement(w,{size:"s6"}),l.a.createElement(w,{size:"s6"},l.a.createElement("input",{placeholder:"Title",id:"title",name:"title",type:"text",className:"validate",value:this.state.title,onChange:this.handleInputChange}))),l.a.createElement(N,null,l.a.createElement(w,{size:"s6"},l.a.createElement("input",{placeholder:"Record your journey",id:"description",name:"info",type:"text",className:"validate",value:this.state.info,onChange:this.handleInputChange})),l.a.createElement(w,{size:"s6"},l.a.createElement("input",{placeholder:"Tag",id:"tag",name:"tag",type:"text",className:"validate",value:this.state.tag,onChange:this.handleInputChange}))),l.a.createElement(N,null,l.a.createElement(w,{size:"s6"},l.a.createElement("input",{placeholder:"lat",id:"lat",name:"lat",type:"text",className:"validate",value:this.state.lat,onChange:this.handleInputChange})),l.a.createElement(w,{size:"s6"},l.a.createElement("input",{placeholder:"lng",id:"lng",name:"lng",type:"text",className:"validate",value:this.state.lng,onChange:this.handleInputChange}))),l.a.createElement(N,null,l.a.createElement("div",{className:"file-field input-field"},l.a.createElement("div",{className:"btn blue"},l.a.createElement("span",null,"Upload Photo"),l.a.createElement("input",{type:"file",onChange:this.handlePicture})),l.a.createElement("div",{className:"file-path-wrapper"},l.a.createElement("input",{className:"file-path validate"})))),l.a.createElement(y,{className:"btn blue modal-close",onClick:this.addPost},"Submit")))))))}}]),t}(n.Component),A=(a(239),a(240),l.a.Component,n.Component,a(197)),U=a.n(A),R=a(198),L=a.n(R),M=a(199),B=a.n(M),W=function(e){var t=e.place;return l.a.createElement("div",{style:{position:"relative",bottom:150,left:"-45px",width:220,backgroundColor:"white",boxShadow:"0 2px 7px 1px rgba(0, 0, 0, 0.3)",padding:10,fontSize:14,zIndex:100}},l.a.createElement("div",{style:{fontSize:16}},t.name),l.a.createElement("div",{style:{fontSize:14}},l.a.createElement("span",{style:{color:"grey"}},t.rating," "),l.a.createElement("span",{style:{color:"orange"}},String.fromCharCode(9733).repeat(Math.floor(t.rating))),l.a.createElement("span",{style:{color:"lightgrey"}},String.fromCharCode(9733).repeat(5-Math.floor(t.rating)))),l.a.createElement("div",{style:{fontSize:14,color:"grey"}},t.types[0]),l.a.createElement("div",{style:{fontSize:14,color:"grey"}},"$".repeat(t.price_level)),l.a.createElement("div",{style:{fontSize:14,color:"green"}},t.opening_hours.open_now?"Open":"Closed"))},G=function(e){var t={border:"1px solid white",borderRadius:"50%",height:10,width:10,backgroundColor:e.show?"red":"blue",cursor:"pointer",zIndex:10};return l.a.createElement(n.Fragment,null,l.a.createElement("div",{style:t}),e.show&&l.a.createElement(W,{place:e.place}))},H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onChildClickCallback=function(e){a.setState(function(t){var a=t.places.findIndex(function(t){return t.id===e});return t.places[a].show=!t.places[a].show,{places:t.places}})},a.state={user_id:e.user_id,places:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.user_id;F.getUserPosts(t).then(function(t){console.log("GET USER POSTSs"),console.log(t.data),e.setState({places:t.data})})}},{key:"render",value:function(){var e=this.state.places;return l.a.createElement(n.Fragment,null,!L()(e)&&l.a.createElement(B.a,{defaultZoom:10,defaultCenter:this.center,onChildClick:this.onChildClickCallback},e.map(function(e){return l.a.createElement(G,{key:e.id,lat:e.geometry.location.lat,lng:e.geometry.location.lng,place:e})})))}}]),t}(n.Component);H.defaultProps={center:{lat:37.77,lng:-122.43},zoom:1};a(122);var J={backgroundImage:"url(".concat(U.a,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundAttachment:"fixed"},q={left:"0",bottom:"0",marginTop:"15%",width:"100%",backgroundColor:"#2196f3",color:"white",textAlign:"center",opacity:"1"},K=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={user_id:a.props.user_id,email:"",firstName:a.props.firstName,lastName:"",image:"",followPosts:{},place:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"showPlaceDetails",value:function(e){this.setState({place:e})}},{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("BRING IN FOLLOWERS"),F.getFollowPosts(this.state.user_id).then(function(e){console.log("\nFOLLOWING POST ARRAY"),console.log(e),t.setState({followPosts:e.data})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",{style:J},l.a.createElement(x,null),l.a.createElement(b,null,l.a.createElement(D,{user_id:this.state.user_id}),l.a.createElement(N,{className:"center"},this.state.followPosts.length?this.state.followPosts.map(function(e,t){return l.a.createElement(O,{key:t,title:e.title,info:e.info,location:e.location,tag:e.tag,user_id:e.user_id,image:e.image})}):"No Posts")),l.a.createElement(k,{style:q}))}}]),t}(n.Component),Y=(a(241),{backgroundImage:"url(".concat(S.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundAttachment:"fixed"}),Z={left:"0",bottom:"0",marginTop:"15%",width:"100%",backgroundColor:"#2196f3",color:"white",textAlign:"center",opacity:"1"},$=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={user_id:a.props.user_id,tag:"",searched:!1,posts:[]},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.followUser=function(e){console.log("WE FOLLOWED THE USER");var t={user_id:a.state.user_id,follow_id:parseInt(e)};console.log(t),F.followUser(t).then(function(e){return console.log(e)})},a.handleFormSubmit=function(e){if(e.preventDefault(),!a.state.tag)return alert("don't refresh me"),!1;alert("yass"),a.setState({searched:!0});var t=a.state.tag;console.log(t),F.getPostSearch(t).then(function(e){console.log("Searched Posts xD"),console.log(e),a.setState({posts:e.data})})},a.handleChipClick=function(e){e.preventDefault(),a.setState({searched:!0}),console.log("CLICKED SEARCH")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_.a.Chips.init(),!1===this.state.searched&&(console.log("DISCOVER PAGE"),F.getPosts().then(function(e){console.log(e.data),t.setState({posts:e.data})}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:Y},l.a.createElement(b,null,l.a.createElement(x,null,"Discover"),l.a.createElement(b,null,l.a.createElement(N,null,l.a.createElement("div",{className:"input-field col s12 bgSearchBar blue-text"},l.a.createElement(w,{size:"s10"},l.a.createElement("i",{className:" material-icons prefix",style:{marginTop:"10px"}},"search"),l.a.createElement("input",{type:"text",id:"discoversearch",name:"tag",value:this.state.tag,onChange:this.handleInputChange})),l.a.createElement(w,{size:"s2"},l.a.createElement(y,{style:{marginTop:"10px"},onClick:this.handleFormSubmit},l.a.createElement("i",{className:"material-icons"},"search")))))),l.a.createElement(N,null,this.state.posts.length?this.state.posts.map(function(t,a){return l.a.createElement(C,{key:a,name:"tag",value:e.state.tag,tag:t.tag,user_id:t.user_id,onClick:e.handleInputChange})}):"No Posts"),this.state.posts.length?this.state.posts.map(function(t,a){return l.a.createElement(N,{className:"center"},l.a.createElement(O,{followUser:e.followUser,key:a,title:t.title,info:t.info,location:t.location,tag:t.tag,user_id:t.user_id,image:t.image}))}):"No Posts"),l.a.createElement(k,{style:Z}))}}]),t}(n.Component),V=a(200);var Q=function(e){return l.a.createElement("div",null,l.a.createElement(N,null,l.a.createElement(w,{size:"s12"},l.a.createElement("div",{className:"card #90caf9 blue lighten-2"},l.a.createElement("div",{className:"card-content white-text"},l.a.createElement("span",{className:"card-title"},"Bio"),l.a.createElement("p",null,e.bio)),l.a.createElement("div",{className:"card-action"})))))},X=a(201),ee=a.n(X),te=a(202),ae=a.n(te);function ne(){var e=Object(V.a)(["\n  position: absolute;\n\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 15px solid red;\n  border-radius: 50%;\n  text-align: center;\n\n  cursor: ",";\n  &:hover {\n    z-index: 1;\n  }\n  "]);return ne=function(){return e},e}var le=a(203).a.div(ne(),function(e){return e.onClick?"pointer":"default"}),re=function(e){var t=e.text;return l.a.createElement("div",null,l.a.createElement(le,null,t))},se={backgroundImage:"url(".concat(ae.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"100%",backgroundAttachment:"fixed"},ce=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={user_id:a.props.user_id,editBio:"",bio:"",image:"",posts:[],lat:a.props.lat,lng:a.props.lng,title:a.props.title,firstName:a.props.firstName},a.handleFormSubmit=function(){var e=Object(i.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("WE MADE IT TO THE FORM SUBMIT"),n={user_id:a.state.user_id,bio:a.state.editBio,image:a.state.image},console.log(n),F.editUser(n).then(function(e){return console.log(e)}),window.location.reload();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("IS THIS WORKING"),console.log("USER ID:",this.state.user_id);var t=this.state.user_id;F.getUserPosts(t).then(function(t){console.log("GET USER POSTS"),console.log(t.data),e.setState({posts:t.data})}),F.getProfile(t).then(function(t){console.log("\nGET PROFILE\n"),console.log(t.data);var a=t.data;e.setState({bio:a.bio,image:a.image})})}},{key:"render",value:function(){return l.a.createElement("div",{style:se},l.a.createElement(b,null,l.a.createElement(x,null,this.state.firstName),l.a.createElement(N,{className:"center"},l.a.createElement(w,{size:"s6"},l.a.createElement("img",{style:{height:"300px",width:"300px"},src:this.state.image,alt:"Profile picture"}))),l.a.createElement(N,{className:"center"},l.a.createElement(w,{size:"s6"},l.a.createElement(k,null,l.a.createElement(Q,{bio:this.state.bio}),l.a.createElement(P,{name:"editBio",placeholder:"Edit Bio",value:this.state.editBio,onChange:this.handleInputChange}),l.a.createElement(y,{onClick:this.handleFormSubmit},"Submit")))),l.a.createElement(k,null,l.a.createElement("div",{style:{height:"100vh",width:"100%"}},l.a.createElement(ee.a,{defaultCenter:this.props.center,defaultZoom:this.props.zoom,yesIWantToUseGoogleMapApiInternals:!0},console.log("\nWE MADE IT\n"),console.log(this.state.posts),this.state.posts.length?this.state.posts.map(function(e,t){return l.a.createElement(re,{key:t,id:e.user_id,lat:e.lat,lng:e.lng,text:e.title})}):console.log("No Markers"))))),l.a.createElement(b,null,this.state.posts.length?this.state.posts.map(function(e,t){return l.a.createElement(N,{className:"center"},l.a.createElement(O,{key:t,title:e.title,info:e.info,location:e.location,tag:e.tag,user_id:e.user_id,image:e.image}))}).reverse():"No Posts"))}}]),t}(n.Component);ce.defaultProps={center:{lat:37.77,lng:-122.43},zoom:1};var oe=ce,ie=a(206),ue=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={items:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t,n=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a(261),"https://api.unsplash.com/search/photos?page=1&query=landscape&client_id=15a3b12b4e320ca5f4b5bd3319c5e0c73401530b3953e3dc8f7352a0b5669001",t({url:"https://api.unsplash.com/search/photos?page=1&query=landscape&client_id=15a3b12b4e320ca5f4b5bd3319c5e0c73401530b3953e3dc8f7352a0b5669001"},function(e,t){if(e)console.log(e.message);else if(t){var a=JSON.parse(t.body);n.setState({items:a.results}),console.log("NEW ARRAY",a.results.map(function(e){return e.urls.regular}))}});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.items.length?l.a.createElement(ie.a,{images:this.state.items.map(function(e){return e.urls.regular}),duration:5,transition:3},this.props.children):l.a.createElement("div",null)}}]),t}(n.Component),me=(a(467),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.handleFormSubmit=function(){var e=Object(i.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("WE MADE IT TO THE FORM SUBMIT"),e.next=4,fetch("/auth/login",{method:"POST",credentials:"include",mode:"cors",body:JSON.stringify({password:a.state.password,email:a.state.email}),headers:new Headers({"Content-Type":"application/json"})}).then(function(e){window.location.href="/"}).catch(function(e){return console.log(e)});case 4:a.setstate({email:"",password:""});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(b,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(k,{id:"cardStyleLogin"},l.a.createElement("h1",{id:"logo"},"Traveler"),l.a.createElement("h4",{className:"loginFont"},"Login"),l.a.createElement("form",{className:"col s12"},l.a.createElement(N,null,l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"email",className:"validate",name:"email",type:"email",value:this.state.email,onChange:this.handleInputChange}),l.a.createElement("label",{htmlFor:"email"},"Email"))),l.a.createElement(N,null,l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"password",className:"validate",name:"password",type:"password",value:this.state.password,onChange:this.handleInputChange}),l.a.createElement("label",{htmlFor:"password"},"Password"))),l.a.createElement(N,{className:"center"},l.a.createElement(w,{size:"s6"},l.a.createElement(f.b,{to:"/signup"},"Don't have an account? Sign up here."))),l.a.createElement(N,{className:"center"},l.a.createElement(w,{size:"s6"},l.a.createElement("br",null),l.a.createElement(y,{onClick:this.handleFormSubmit},"Login ",l.a.createElement("i",{className:"material-icons"},"send")),l.a.createElement("br",null))))))),l.a.createElement(ue,null))}}]),t}(n.Component)),de=(a(468),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",passwordConfirm:"",firstName:"",lastName:"",file:"",fileName:"",url:""},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(E.a)({},n,l))},a.handlePicture=function(){var e=Object(i.a)(o.a.mark(function e(t){var n,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0].name,console.log(n),a.setState({file:t.target.files[0],url:"https://travelerdb.s3-us-west-1.amazonaws.com/".concat(n),fileName:n}),(l=new FormData).append("imageData",t.target.files[0]),l.append("imageName",n),T.a.post("/api/user",l).then(function(e){console.log(e)});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleFormSubmit=function(){var e=Object(i.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a.state.firstName&&a.state.lastName&&a.state.email&&a.state.password&&a.state.passwordConfirm)){e.next=11;break}if(a.state.password!==a.state.passwordConfirm){e.next=8;break}return e.next=5,fetch("/auth/signup",{method:"POST",credentials:"include",mode:"cors",body:JSON.stringify({password:a.state.password,email:a.state.email,firstName:a.state.firstName,lastName:a.state.lastName,image:a.state.url}),headers:new Headers({"Content-Type":"application/json"})}).then(function(e){window.location.href="/"}).catch(function(e){return console.log(e)});case 5:a.setState({email:"",password:"",passwordConfirm:"",firstName:"",lastName:"",url:""}),e.next=9;break;case 8:console.log("Make sure that your passwords match");case 9:e.next=12;break;case 11:console.log("Make sure to fill out all fields");case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(ue,null),l.a.createElement(b,null,l.a.createElement("div",{className:"card-panel center",id:"cardStyleSignup"},l.a.createElement("h4",{style:{marginBottom:"0"}},"Sign Up"),l.a.createElement("div",{className:"row"},l.a.createElement("form",{className:"col s12"},l.a.createElement(N,{className:"mb-1"},l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:"firstName",className:"validate",type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleInputChange}),l.a.createElement("label",{htmlFor:"firstName"},"First Name")),l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:"lastName",className:"validate",type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleInputChange}),l.a.createElement("label",{htmlFor:"lastLame"},"Last Name"))),l.a.createElement(N,{className:"mb-1"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"email",className:"validate",type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange}),l.a.createElement("label",{htmlFor:"email"},"Email"))),l.a.createElement(N,{className:"mb-1"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"password",className:"validate",type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange}),l.a.createElement("label",{htmlFor:"password"},"Password"))),l.a.createElement(N,{className:"mb-1"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"passwordConfirm",className:"validate",type:"password",name:"passwordConfirm",value:this.state.passwordConfirm,onChange:this.handleInputChange}),l.a.createElement("label",{htmlFor:"passwordConfirm"}," Confirm Password"))),l.a.createElement(N,{className:"center"},l.a.createElement("div",{className:"file-field input-field"},l.a.createElement("div",{className:"btn blue",id:"signUP"},"Upload Photo",l.a.createElement("input",{type:"file",onChange:this.handlePicture})))))),l.a.createElement(N,{className:"center",id:"loginRe"},l.a.createElement(f.b,{to:"/"},"Already have an account? Login here.")),l.a.createElement(N,null,l.a.createElement(y,{onClick:this.handleFormSubmit},"Signup ",l.a.createElement("i",{className:"material-icons right"},"send"))))))}}]),t}(n.Component)),pe=(a(469),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={isLoggedin:!1,user_id:"",firstName:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getUser().then(function(e){console.log(e),t.setState({isLoggedin:e.data.isLoggedin,user_id:e.data.id,firstName:e.data.firstName})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){F.logout().then(function(e){console.log("We logged out"),window.location="http://localhost:3000"})}},{key:"render",value:function(){var e=this;return!1===this.state.isLoggedin?l.a.createElement(f.a,null,l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/",component:me}),l.a.createElement(g.a,{exact:!0,path:"/login",component:me}),l.a.createElement(g.a,{exact:!0,path:"/signup",component:de}))):l.a.createElement(f.a,null,l.a.createElement(v,{firstName:this.state.firstName,logout:this.logout}),l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/",component:function(){return l.a.createElement(K,{firstName:e.state.firstName,user_id:e.state.user_id})}}),l.a.createElement(g.a,{exact:!0,path:"/discover",component:function(){return l.a.createElement($,{firstName:e.state.firstName,user_id:e.state.user_id})}}),l.a.createElement(g.a,{exact:!0,path:"/profile",component:function(){return l.a.createElement(oe,{firstName:e.state.firstName,user_id:e.state.user_id})}})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[209,1,2]]]);
//# sourceMappingURL=main.e82c6f91.chunk.js.map